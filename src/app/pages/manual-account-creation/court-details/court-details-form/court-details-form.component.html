<h1 class="govuk-heading-l">Court details</h1>
<app-govuk-error-summary [errors]="formErrorSummaryMessage" (errorClick)="scrollTo($event)"></app-govuk-error-summary>
<form (submit)="handleFormSubmit($event)">
  <app-alphagov-accessible-autocomplete
    [control]="form.controls['sendingCourt']"
    labelText="Sending area or Local Justice Area (LJA)"
    labelClasses="govuk-fieldset__legend--s"
    inputId="sendingCourt"
    inputName="sendingCourt"
    label=""
    hintText="Search using the code or name of the area that sent the transfer"
    [autoCompleteItems]="sendingCourtAutoCompleteItems"
    [errors]="formControlErrorMessages['sendingCourt']"
  ></app-alphagov-accessible-autocomplete>
  <app-govuk-text-input
    labelText="Prosecutor Case Reference (PCR)"
    inputId="pcr"
    inputName="pcr"
    inputClasses="govuk-input--width-10"
    labelClasses="govuk-label--s"
    hintText="Enter the prosecutor's reference number or original account number"
    [control]="form.controls['pcr']"
    [errors]="formControlErrorMessages['pcr']"
  ></app-govuk-text-input>
  <hr class="govuk-section-break govuk-section-break--l govuk-section-break--visible" />
  <app-alphagov-accessible-autocomplete
    [control]="form.controls['enforcementCourt']"
    labelText="Enforcement court"
    labelClasses="govuk-fieldset__legend--s"
    inputId="enforcementCourt"
    inputName="enforcementCourt"
    label=""
    hintText="Search using enforcement court or code"
    [autoCompleteItems]="enforcingCourtAutoCompleteItems"
    [errors]="formControlErrorMessages['enforcementCourt']"
  ></app-alphagov-accessible-autocomplete>
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
      <app-govuk-button buttonId="submitForm" type="submit">Return to account details</app-govuk-button>
      @if (defendantType && manualAccountCreationNestedRoutes[defendantType].courtDetails) {
        <app-govuk-button
          buttonId="submitForm"
          type="submit"
          buttonClasses="nested-flow govuk-button--secondary govuk-!-margin-left-3"
        >
          {{ manualAccountCreationNestedRoutes[defendantType].courtDetails?.buttonText }}
        </app-govuk-button>
      }
      <app-govuk-cancel-link
        (linkClickEvent)="handleRoute(manualAccountCreationRoutes.accountDetails)"
      ></app-govuk-cancel-link>
    </div>
  </div>
</form>
